/**
 * Animation Foundation
 * 
 * Provides reusable animations, transitions, and motion utilities.
 * Respects user preferences for reduced motion.
 */

/* Animation CSS Custom Properties */
:root {
  /* Duration */
  --ds-duration-instant: 0ms;
  --ds-duration-fast: 150ms;
  --ds-duration-normal: 200ms;
  --ds-duration-slow: 300ms;
  --ds-duration-slower: 500ms;
  
  /* Easing */
  --ds-easing-linear: linear;
  --ds-easing-in: cubic-bezier(0.4, 0, 1, 1);
  --ds-easing-out: cubic-bezier(0, 0, 0.2, 1);
  --ds-easing-in-out: cubic-bezier(0.4, 0, 0.2, 1);
  --ds-easing-back: cubic-bezier(0.34, 1.56, 0.64, 1);
  --ds-easing-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
  
  /* Transitions */
  --ds-transition-fast: all var(--ds-duration-fast) var(--ds-easing-out);
  --ds-transition-normal: all var(--ds-duration-normal) var(--ds-easing-out);
  --ds-transition-slow: all var(--ds-duration-slow) var(--ds-easing-out);
  --ds-transition-colors: color var(--ds-duration-fast) var(--ds-easing-out),
                          background-color var(--ds-duration-fast) var(--ds-easing-out),
                          border-color var(--ds-duration-fast) var(--ds-easing-out);
  --ds-transition-transform: transform var(--ds-duration-normal) var(--ds-easing-out);
  --ds-transition-opacity: opacity var(--ds-duration-normal) var(--ds-easing-out);
}

/* Keyframe Animations */
@keyframes ds-fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes ds-fade-out {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

@keyframes ds-slide-up {
  from {
    transform: translateY(10px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes ds-slide-down {
  from {
    transform: translateY(-10px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes ds-slide-left {
  from {
    transform: translateX(10px);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes ds-slide-right {
  from {
    transform: translateX(-10px);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes ds-scale-in {
  from {
    transform: scale(0.95);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes ds-scale-out {
  from {
    transform: scale(1);
    opacity: 1;
  }
  to {
    transform: scale(0.95);
    opacity: 0;
  }
}

@keyframes ds-zoom-in {
  from {
    transform: scale(0);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes ds-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes ds-pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

@keyframes ds-bounce {
  0%, 100% {
    transform: translateY(-25%);
    animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
  }
  50% {
    transform: none;
    animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
  }
}

@keyframes ds-shake {
  10%, 90% {
    transform: translate3d(-1px, 0, 0);
  }
  20%, 80% {
    transform: translate3d(2px, 0, 0);
  }
  30%, 50%, 70% {
    transform: translate3d(-4px, 0, 0);
  }
  40%, 60% {
    transform: translate3d(4px, 0, 0);
  }
}

/* Animation Classes */
.ds-animate-fade-in {
  animation: ds-fade-in var(--ds-duration-normal) var(--ds-easing-out);
}

.ds-animate-fade-out {
  animation: ds-fade-out var(--ds-duration-normal) var(--ds-easing-out);
}

.ds-animate-slide-up {
  animation: ds-slide-up var(--ds-duration-normal) var(--ds-easing-out);
}

.ds-animate-slide-down {
  animation: ds-slide-down var(--ds-duration-normal) var(--ds-easing-out);
}

.ds-animate-slide-left {
  animation: ds-slide-left var(--ds-duration-normal) var(--ds-easing-out);
}

.ds-animate-slide-right {
  animation: ds-slide-right var(--ds-duration-normal) var(--ds-easing-out);
}

.ds-animate-scale-in {
  animation: ds-scale-in var(--ds-duration-normal) var(--ds-easing-out);
}

.ds-animate-scale-out {
  animation: ds-scale-out var(--ds-duration-normal) var(--ds-easing-out);
}

.ds-animate-zoom-in {
  animation: ds-zoom-in var(--ds-duration-normal) var(--ds-easing-back);
}

.ds-animate-spin {
  animation: ds-spin 1s linear infinite;
}

.ds-animate-pulse {
  animation: ds-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.ds-animate-bounce {
  animation: ds-bounce 1s infinite;
}

.ds-animate-shake {
  animation: ds-shake 0.82s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
}

/* Transition Classes */
.ds-transition {
  transition: var(--ds-transition-normal);
}

.ds-transition-fast {
  transition: var(--ds-transition-fast);
}

.ds-transition-slow {
  transition: var(--ds-transition-slow);
}

.ds-transition-none {
  transition: none;
}

.ds-transition-colors {
  transition: var(--ds-transition-colors);
}

.ds-transition-transform {
  transition: var(--ds-transition-transform);
}

.ds-transition-opacity {
  transition: var(--ds-transition-opacity);
}

/* Transform Utilities */
.ds-transform {
  transform: translateX(var(--ds-translate-x, 0)) translateY(var(--ds-translate-y, 0)) rotate(var(--ds-rotate, 0)) skewX(var(--ds-skew-x, 0)) skewY(var(--ds-skew-y, 0)) scaleX(var(--ds-scale-x, 1)) scaleY(var(--ds-scale-y, 1));
}

.ds-transform-gpu {
  transform: translate3d(var(--ds-translate-x, 0), var(--ds-translate-y, 0), 0) rotate(var(--ds-rotate, 0)) skewX(var(--ds-skew-x, 0)) skewY(var(--ds-skew-y, 0)) scaleX(var(--ds-scale-x, 1)) scaleY(var(--ds-scale-y, 1));
}

.ds-transform-none {
  transform: none;
}

/* Scale */
.ds-scale-0 { --ds-scale-x: 0; --ds-scale-y: 0; }
.ds-scale-50 { --ds-scale-x: 0.5; --ds-scale-y: 0.5; }
.ds-scale-75 { --ds-scale-x: 0.75; --ds-scale-y: 0.75; }
.ds-scale-90 { --ds-scale-x: 0.9; --ds-scale-y: 0.9; }
.ds-scale-95 { --ds-scale-x: 0.95; --ds-scale-y: 0.95; }
.ds-scale-100 { --ds-scale-x: 1; --ds-scale-y: 1; }
.ds-scale-105 { --ds-scale-x: 1.05; --ds-scale-y: 1.05; }
.ds-scale-110 { --ds-scale-x: 1.1; --ds-scale-y: 1.1; }
.ds-scale-125 { --ds-scale-x: 1.25; --ds-scale-y: 1.25; }
.ds-scale-150 { --ds-scale-x: 1.5; --ds-scale-y: 1.5; }

/* Rotate */
.ds-rotate-0 { --ds-rotate: 0deg; }
.ds-rotate-1 { --ds-rotate: 1deg; }
.ds-rotate-2 { --ds-rotate: 2deg; }
.ds-rotate-3 { --ds-rotate: 3deg; }
.ds-rotate-6 { --ds-rotate: 6deg; }
.ds-rotate-12 { --ds-rotate: 12deg; }
.ds-rotate-45 { --ds-rotate: 45deg; }
.ds-rotate-90 { --ds-rotate: 90deg; }
.ds-rotate-180 { --ds-rotate: 180deg; }

/* Hover Effects */
.ds-hover-scale:hover {
  --ds-scale-x: 1.05;
  --ds-scale-y: 1.05;
}

.ds-hover-scale-sm:hover {
  --ds-scale-x: 1.025;
  --ds-scale-y: 1.025;
}

.ds-hover-scale-lg:hover {
  --ds-scale-x: 1.1;
  --ds-scale-y: 1.1;
}

.ds-hover-rotate:hover {
  --ds-rotate: 3deg;
}

.ds-hover-lift {
  transition: var(--ds-transition-transform);
}

.ds-hover-lift:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.15);
}

/* Focus Effects */
.ds-focus-ring:focus {
  outline: 2px solid var(--ds-color-border-focus);
  outline-offset: 2px;
}

.ds-focus-ring-inset:focus {
  outline: 2px solid var(--ds-color-border-focus);
  outline-offset: -2px;
}

/* Loading States */
.ds-loading {
  position: relative;
  color: transparent !important;
  pointer-events: none;
}

.ds-loading::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 1rem;
  height: 1rem;
  margin: -0.5rem 0 0 -0.5rem;
  border: 2px solid var(--ds-color-border-tertiary);
  border-top-color: var(--ds-color-interactive-primary);
  border-radius: 50%;
  animation: ds-spin 0.8s linear infinite;
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
  .ds-animate-fade-in,
  .ds-animate-fade-out,
  .ds-animate-slide-up,
  .ds-animate-slide-down,
  .ds-animate-slide-left,
  .ds-animate-slide-right,
  .ds-animate-scale-in,
  .ds-animate-scale-out,
  .ds-animate-zoom-in,
  .ds-animate-bounce,
  .ds-animate-shake {
    animation: none;
  }
  
  .ds-animate-spin {
    animation: ds-spin 2s linear infinite;
  }
  
  .ds-animate-pulse {
    animation: none;
  }
  
  .ds-transition,
  .ds-transition-fast,
  .ds-transition-slow,
  .ds-transition-colors,
  .ds-transition-transform,
  .ds-transition-opacity {
    transition: none;
  }
  
  .ds-hover-scale:hover,
  .ds-hover-scale-sm:hover,
  .ds-hover-scale-lg:hover,
  .ds-hover-rotate:hover {
    transform: none;
  }
  
  .ds-hover-lift:hover {
    transform: none;
    box-shadow: none;
  }
}

/* Print Styles */
@media print {
  .ds-animate-spin {
    animation: none;
  }
  
  .ds-loading::after {
    display: none;
  }
}